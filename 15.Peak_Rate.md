# 峰值速率 （Peak Rate）

峰值速率（Peak Rate） 是指硬件系统理论上能够完成工作的最大速率。

峰值速率代表了 GPU 性能的绝对上限，假设每个执行单元都以最大容量、完美效率运行。
它假设操作是理想状态，没有任何资源约束（如寄存器、内存带宽、同步屏障等）形成瓶颈。

峰值速率是衡量实际性能的标尺。

- 在 roofline 分析中，它定义了计算受限（compute-bound）的“屋顶”高度（roof）；
- 在管线利用率（pipe utilization）指标中，它是利用率分数的分母；

它是 GPU 利用率的最终衡量标准。

富有诗意地，NVIDIA 工程师常称其为 “光速（speed of light）”——程序速度受物理极限的约束。

峰值速率可以直接根据每种 GPU 架构的固定硬件规格计算得到。

## 示例：NVIDIA H100 GPU

- H100 拥有 132 个 SM（Streaming Multiprocessor）
- 每个 SM 包含 128 个 FP32 核心
- 每个核心可以发出 1 条单精度 Fused Multiply-Add（FMA）指令，每条 FMA 包含 2 个浮点运算

总共 = 132 × 128 × 2 = 33,792 条浮点运算指令/时钟周期
- H100 的计算子系统（FP32 核心）最高时钟可达 1980 MHz（每秒 19.8 亿时钟）

因此峰值速率 = 33,792 × 1,980,000,000 ≈ 66,908 亿 FLOPS（66.9 TFLOPS）

这个数值与 NVIDIA H100 白皮书中公布的 非 Tensor 核心 FP32 峰值 TFLOPS 完全一致。
